# Feature Registry

This document maintains a registry of features implemented in the Astromech application.

## Backend Features
| ID | Feature Name | Related Files | Description |
| :-- | :--- | :--- | :--- |
| **BE-001** | **Platform Core** | [app/main.py](app/main.py), [app/core/config.py](app/core/config.py), [app/core/heartbeat.py](app/core/heartbeat.py), [app/core/cron.py](app/core/cron.py) | The central application entry point providing lifecycle management, configuration loading, and service initialization (Heartbeat, Scheduler, API routes). |
| **BE-002** | **Agent Interaction API** | [app/api/agent_routes.py](app/api/agent_routes.py), [app/agents/orchestrator.py](app/agents/orchestrator.py), [app/agents/session_manager.py](app/agents/session_manager.py) | REST endpoints for chatting with the agent, managing session context, retrieving conversation history, and checking system status. |
| **BE-003** | **Memory System (RAG)** | [app/api/memory_routes.py](app/api/memory_routes.py), [app/memory/file_store.py](app/memory/file_store.py), [app/memory/rag.py](app/memory/rag.py) | A persistent memory system supporting file-based storage and vector-based semantic search (RAG) to provide long-term context to the agent. |
| **BE-004** | **Skill Registry API** | [app/api/skill_routes.py](app/api/skill_routes.py), [app/skills/loader.py](app/skills/loader.py) | A CRUD interface for managing agent skills. Skills are stored as Markdown files with Frontmatter metadata, allowing dynamic capability expansion. |
| **BE-005** | **Task Queue System** | [app/api/task_routes.py](app/api/task_routes.py), [app/core/scheduler.py](app/core/scheduler.py) | A system for managing asynchronous tasks and protocols, supporting priority levels, status tracking, and retrieval. |
| **BE-006** | **Telegram Integration** | [app/skills/telegram/bot.py](app/skills/telegram/bot.py), [app/main.py](app/main.py) | A specialized skill module that connects the agent to a Telegram bot, enabling message handling and interaction via Telegram. |
| **BE-007** | **Discord Integration** | [app/skills/discord/bot.py](app/skills/discord/bot.py), [app/main.py](app/main.py) | A specialized skill module that connects the agent to a Discord bot, enabling message handling and interaction via Discord. |
| **BE-008** | **Sub-Agents & Teams** | [app/agents/registry.py](app/agents/registry.py), [app/tools/agent_tools.py](app/tools/agent_tools.py), [app/agents/orchestrator.py](app/agents/orchestrator.py), [data/agents.json](data/agents.json) | Capabilities for the core agent to spawn specialized sub-agents (defined in a registry) and delegate tasks to them using restricted toolsets and specialized system prompts. |
| **BE-009** | **Persistence Layer (SQLite)** | [app/core/db.py](app/core/db.py), [app/core/scheduler.py](app/core/scheduler.py), [app/core/cron.py](app/core/cron.py) | A SQLite-based persistence layer intended to replace JSON file storage, providing atomic transactions and reliable state management for Tasks and Cron jobs. |
| **BE-010** | **Local Browser Integration** | [app/core/browser_launcher.py](app/core/browser_launcher.py), [app/tools/browser.py](app/tools/browser.py) | A subsystem for detecting, launching, and managing a persistent local Chrome/Chromium instance (with User Data Dir) and connecting to it via CDP for automation. |
| **BE-011** | **Autonomous Heartbeat Protocols** | [app/core/heartbeat.py](app/core/heartbeat.py), [data/HEARTBEAT.md](data/HEARTBEAT.md) | An autonomous background service that periodically checks standing orders in `HEARTBEAT.md` (Proactive) and processes queued tasks (Reactive) to maintain system health and perform scheduled actions. |
| **BE-012** | **Core Agent Resilience** | [app/agents/orchestrator.py](app/agents/orchestrator.py) | Implements a retry mechanism (up to 3 attempts) to ensure the agent is proactive and resilient to failure. |
| **BE-013** | **Operational Protocols** | [app/core/identity.py](app/core/identity.py), [AGENTS.md](AGENTS.md) | Injects project-specific operational guidelines and coding standards directly into the clean system prompt to ensure agent compliance with repository workflows. |
| **BE-014** | **Media Analysis & Multimodal Ingestion** | [app/tools/media_tools.py](app/tools/media_tools.py), [app/skills/telegram/bot.py](app/skills/telegram/bot.py) | Enables the agent to accept, download, and analyze multimedia files (Images, Video, Audio, Documents) from Telegram using Multimodal LLM capabilities. |
| **BE-015** | **Dynamic Code Execution (Code Tools)** | [app/tools/code_tools.py](app/tools/code_tools.py) | Provides a `run_python_code` tool allowing the agent to execute arbitrary Python scripts on the host to solve complex tasks, parse formats, or manage files dynamically. |
| **BE-016** | **Model & Provider Management** | [app/core/models_config.py](app/core/models_config.py), [app/api/model_routes.py](app/api/model_routes.py) | A unified configuration system for managing LLM providers (Ollama, Gemini, OpenAI) and active models. Supports dynamic swapping of models and defining aliases for the orchestrator. |
| **BE-017** | **Continuous Context Files** | [app/core/models.py](app/core/models.py), [app/agents/context_manager.py](app/agents/context_manager.py), [app/tools/context_tools.py](app/tools/context_tools.py) | Allows agents to pin specific files to the conversation context ("Working Memory"). Context files are read and injected into the system prompt on every turn. |
| **BE-018** | **Autonomous Tool Building** | [app/tools/code_tools.py](app/tools/code_tools.py), [AGENTS.md](AGENTS.md) | Enables the agent to self-correct by installing Python packages (`install_python_package`) and writing custom scripts (`run_python_code`) when standard tools fail. |
| **BE-019** | **Self-Restoration** | [restore.py](restore.py), [app/tools/local_system.py](app/tools/local_system.py) | A CLI utility and Agent Tool enabling the agent to restore the repository to a clean state (hard reset) or revert local changes (soft reset) via Python subprocess calls to Git. |
| **BE-020** | **Guardian (Safety Guardrails)** | [app/core/guardian.py](app/core/guardian.py), [app/agents/orchestrator.py](app/agents/orchestrator.py) | Intercepts and blocks destructive tool calls (e.g., file deletion, shell commands) requiring active user approval via Action ID. Also enforces approval for `self_modify_code` edits targeting sensitive runtime paths (`app/core/*`, `app/agents/*`). |
| **BE-021** | **Google Workspace Integration** | [app/skills/google-workspace/SKILL.md](app/skills/google-workspace/SKILL.md), [app/skills/google-workspace/scripts/drive_tool.py](app/skills/google-workspace/scripts/drive_tool.py), [app/skills/google-workspace/scripts/gmail_tool.py](app/skills/google-workspace/scripts/gmail_tool.py) | A specialized skill for managing Google Drive files (local mount) and interacting with Gmail via API. |
| **BE-022** | **GitHub Client Integration** | [app/skills/github/SKILL.md](app/skills/github/SKILL.md), [app/skills/github/scripts/gh_tool.py](app/skills/github/scripts/gh_tool.py), [app/tools/github_tools.py](app/tools/github_tools.py), [app/agents/orchestrator.py](app/agents/orchestrator.py) | Provides both a skill workflow and a first-class `github_client` tool for interacting with GitHub repositories and issues (list repos, list/get issues, create issues) using `GITHUB_TOKEN`. |
| **BE-023** | **Live Log Streaming** | [app/core/logging_utils.py](app/core/logging_utils.py), [app/api/system_routes.py](app/api/system_routes.py) | A broadcast logging handler and WebSocket endpoint (`/api/v1/system/logs`) enabling real-time streaming of backend logs to connected clients. |
| **BE-024** | **Protocol Templates API** | [app/api/protocol_routes.py](app/api/protocol_routes.py), [app/core/db.py](app/core/db.py) | API endpoints and database schema for creating, retrieving, and instantiating reusable Standard Operating Procedure (SOP) templates as Tasks. |
| **BE-025** | **Tiered Memory System** | [app/memory/short_term.py](app/memory/short_term.py), [app/agents/context_manager.py](app/agents/context_manager.py), [app/agents/orchestrator.py](app/agents/orchestrator.py), [app/core/models.py](app/core/models.py), [app/api/memory_routes.py](app/api/memory_routes.py) | A three-tier memory architecture: (1) a 10-message sliding window sent to the LLM, (2) automatic short-term memory summaries generated every 10 messages (valid for the day), and (3) long-term RAG memories for significant facts extracted during summarization. Includes REST endpoints for viewing/managing short-term memories. |
| **BE-026** | **Run Registry & Abort/Cancel** | [app/agents/run_registry.py](app/agents/run_registry.py), [app/api/agent_routes.py](app/api/agent_routes.py), [app/agents/orchestrator.py](app/agents/orchestrator.py) | Tracks all active agent runs with abort/cancel support via asyncio.Event. Supports timeout-based auto-abort, user-initiated cancellation, run status queries, and waiting for completion. Exposed via REST endpoints: `POST /runs/{id}/abort`, `GET /runs/{id}/status`, `GET /runs`. |
| **BE-027** | **Structured Error Classification** | [app/agents/error_handler.py](app/agents/error_handler.py), [app/agents/orchestrator.py](app/agents/orchestrator.py) | A 10-class error taxonomy (context overflow, rate limit, auth, timeout, role ordering, image, model unavailable, tool, parse, unknown) with per-class recovery strategies (retry, compact context, rotate model, reduce context, abort, skip tool). Replaces bare `except Exception` with classified errors and escalating recovery plans. |
| **BE-028** | **Model Failover Chain** | [app/agents/failover.py](app/agents/failover.py), [app/agents/orchestrator.py](app/agents/orchestrator.py) | Automatic multi-model failover when LLM calls fail. Builds an ordered chain from configured models (preferred → default → smart → others → local). Supports mid-loop failover during execution, full audit logging of attempts, and chain reset. |
| **BE-029** | **Parallel Tool Execution** | [app/agents/orchestrator.py](app/agents/orchestrator.py) | Executes multiple independent tool calls concurrently via `asyncio.gather()` instead of sequentially. Handles exceptions per-tool so one failure doesn't block others. Significant performance improvement when LLMs request multiple tools in a single turn. |
| **BE-030** | **Message Steering (Mid-Run Injection)** | [app/agents/run_registry.py](app/agents/run_registry.py), [app/api/agent_routes.py](app/api/agent_routes.py), [app/agents/orchestrator.py](app/agents/orchestrator.py) | Allows injecting user messages into an active agent run via `POST /runs/{id}/steer`. Messages are queued and injected as HumanMessages between tool calls, enabling real-time course correction without restarting the run. |
| **BE-031** | **Orchestrator Reliability Overhaul (14-Bug Fix)** | [app/agents/orchestrator.py](app/agents/orchestrator.py), [app/agents/session_manager.py](app/agents/session_manager.py), [app/agents/run_registry.py](app/agents/run_registry.py), [app/agents/context_manager.py](app/agents/context_manager.py), [app/core/llm.py](app/core/llm.py), [app/core/models.py](app/core/models.py), [app/memory/rag.py](app/memory/rag.py), [data/models.json](data/models.json), [docs/orchestrator_fix_plan.md](docs/orchestrator_fix_plan.md) | Comprehensive 14-bug fix addressing: (1) sync-in-async blocking event loop, (2) stale RunHandle reuse, (3) multimodal content corruption on save, (4) missing temperature for Gemini function calling, (5) dynamic tool filtering (10-20 limit), (6) default model switched from flash-lite to flash, (7) asyncio cross-loop primitives, (8) turn-abort timing, (9) nudge counter inflation, (10) ToolMessage name preservation, (11) token-budget context windowing, (12) failover prompt rebuild, (13) embedding model fallback chain, (14) for/else → while state machine refactor. |
| **BE-032** | **SSE Streaming Chat Endpoint** | [app/api/agent_routes.py](app/api/agent_routes.py), [app/agents/orchestrator.py](app/agents/orchestrator.py), [frontend/app/page.tsx](frontend/app/page.tsx) | Server-Sent Events streaming for the chat pipeline. `POST /api/v1/agent/chat/stream` yields real-time events as the orchestrator works: `phase` (evaluating/memory/routing/executing/recovery), `intent`, `tool_start`, `tool_done`, incremental `response_chunk` events for assistant text, `complete` (final response + metadata), and `error`. The frontend consumes these events via `fetch` + `ReadableStream`, updating the assistant bubble progressively and showing live execution telemetry. |
| **BE-033** | **Hallucinated Tool Call Trap** | [app/agents/orchestrator.py](app/agents/orchestrator.py), [app/tools/local_system.py](app/tools/local_system.py) | Runtime detection and correction of LLM "hallucinated" tool calls where the model outputs text descriptions (e.g., `**Tool Call**:`) instead of invoking native tools. When detected, the system injects a corrective system message forcing the model to retry with actual tool invocation. Paired with stricter tool usage instructions in the system prompt. |
| **BE-034** | **Self-Modification Tool (Repo-Scoped)** | [app/tools/self_modify_tools.py](app/tools/self_modify_tools.py), [app/agents/orchestrator.py](app/agents/orchestrator.py) | Adds a dedicated `self_modify_code` tool for agent self-editing. The tool supports `write`, `append`, and single-match `replace`, but strictly resolves and enforces targets under the repository root to prevent out-of-repo file modification. |
| **BE-035** | **Chat File Upload & Session Pinning** | [app/api/agent_routes.py](app/api/agent_routes.py), [app/agents/session_manager.py](app/agents/session_manager.py), [app/agents/context_manager.py](app/agents/context_manager.py) | Adds multipart chat upload endpoints (`POST /api/v1/agent/uploads`, `GET /api/v1/agent/uploads/{session_id}`) that persist files to `data/uploads/<session_id>/`, record metadata in the session, and auto-pin uploaded paths into `session.context_files` so file contents remain available in subsequent turns. |
| **BE-036** | **Nano Banana Image Generation Tool** | [app/tools/image_tools.py](app/tools/image_tools.py), [app/agents/orchestrator.py](app/agents/orchestrator.py), [app/core/config.py](app/core/config.py), [.env.example](.env.example) | Adds `generate_image_nano_banana`, a first-class tool that calls Gemini image generation (Nano Banana-compatible model), supports optional image-to-image prompting via local reference image, and saves generated files under a configurable output directory. |
| **BE-037** | **Plan Approval + Heartbeat Execution Flow** | [app/agents/orchestrator.py](app/agents/orchestrator.py), [app/core/guardian.py](app/core/guardian.py), [app/api/agent_routes.py](app/api/agent_routes.py), [app/core/scheduler.py](app/core/scheduler.py), [app/core/heartbeat.py](app/core/heartbeat.py), [app/core/config.py](app/core/config.py), [.env.example](.env.example) | Adds a plan-first workflow for complex tasks: orchestrator generates structured steps with dependency/parallel classification, creates a pending approval action, and waits for user approval. On approval, plan steps are enqueued as heartbeat tasks with embedded step metadata (`step_id`, `depends_on`, `parallelizable`). Heartbeat executes ready tasks (including parallel-ready batches), while scheduler enforces dependency gating so dependent steps do not start early. |
| **BE-038** | **Adaptive Recovery Loop** | [app/agents/orchestrator.py](app/agents/orchestrator.py), [app/core/config.py](app/core/config.py), [.env.example](.env.example) | Strengthens failure recovery behavior by adding configurable top-level execution attempts (`AGENT_EXECUTION_MAX_ATTEMPTS`) and retryable tool execution retries (`AGENT_TOOL_RETRY_ATTEMPTS`) with short backoff and recovery phase telemetry. Improves persistence when transient network/provider/tool failures occur. |
| **BE-039** | **Kimi + NVIDIA Moonshot Provider Support** | [app/core/llm.py](app/core/llm.py), [app/core/kimi_cli_chat.py](app/core/kimi_cli_chat.py), [app/core/config.py](app/core/config.py), [app/core/models_config.py](app/core/models_config.py), [data/models.json](data/models.json), [.env.example](.env.example), [requirements.txt](requirements.txt) | Supports Moonshot/Kimi via both direct Moonshot API (`provider: kimi`) and NVIDIA NIM (`provider: nvidia`, model `moonshotai/kimi-k2.5`) through LangChain adapters. Includes provider registry defaults, environment configuration, and optional Kimi CLI execution mode for local command-based workflows. |
| **BE-040** | **Playwright CLI Skill** | [app/skills/playwright-cli/SKILL.md](app/skills/playwright-cli/SKILL.md), [app/skills/playwright-cli/scripts/playwright_cli.py](app/skills/playwright-cli/scripts/playwright_cli.py) | Adds a reusable skill for deterministic browser automation via Playwright CLI step sequences. Supports form filling, selector clicks, coordinate-based screen clicks, waits, key presses, and screenshots through inline `--step` actions or JSON step files. |

| **BE-041** | **Automated Long-Term Memory Cleanup** | [app/memory/rag.py](app/memory/rag.py), [app/memory/file_store.py](app/memory/file_store.py), [app/core/cron_jobs.py](app/core/cron_jobs.py) | Implements a scheduled cron job to automatically review and delete long-term memories older than a configurable threshold (default: 30 days) to prevent memory bloat. |
| **BE-042** | **USER.md Preference Auto-Learning** | [app/core/user_profile.py](app/core/user_profile.py), [app/agents/orchestrator.py](app/agents/orchestrator.py), [USER.md](USER.md) | Evaluates first-person user phrasing (for example, "I prefer...", "I'm into...") at run start and appends deduplicated preference/profile statements to the `Preferences` section in `USER.md`, while filtering task-style requests (for example, "I need you to..."). |
| **BE-043** | **Channel-Aware Response Formatting** | [app/core/response_formatter.py](app/core/response_formatter.py), [app/api/agent_routes.py](app/api/agent_routes.py), [app/skills/telegram/bot.py](app/skills/telegram/bot.py), [app/skills/discord/bot.py](app/skills/discord/bot.py), [frontend/app/page.tsx](frontend/app/page.tsx) | Adds channel-specific response formatting and chunking for `ui`, `telegram`, and `discord`. Chat requests can now specify a channel, and outgoing responses are normalized and split to each platform's limits before delivery. |
| **BE-044** | **Prompt Assembly + Memory Retrieval Caching** | [app/agents/orchestrator.py](app/agents/orchestrator.py), [app/agents/context_manager.py](app/agents/context_manager.py), [app/core/identity.py](app/core/identity.py) | Improves agent latency while preserving personality/context by (1) caching identity prompt assembly using file mtime invalidation (`CORE.md`, `USER.md`, `AGENTS.md`, `MEMORY.md`, `data/identity.json`), (2) caching pinned context-file reads by file version (`mtime`, `size`) so unchanged files are not re-read each turn, and (3) executing memory queries concurrently with deterministic deduplication of retrieved memory chunks before routing/execution. |
| **BE-045** | **Relationship Memory Tier (Durable User Facts)** | [app/memory/relationship_memory.py](app/memory/relationship_memory.py), [app/core/user_profile.py](app/core/user_profile.py), [app/agents/orchestrator.py](app/agents/orchestrator.py), [app/api/memory_routes.py](app/api/memory_routes.py) | Adds a dedicated relationship-memory layer separate from generic RAG, storing only durable user facts (preferences, habits, recurring projects, communication style) with `tags`, `confidence`, and `last_confirmed`. `USER.md` auto-learning now also upserts structured relationship facts, and orchestrator retrieval prioritizes this tier before long-term vector memory. |
| **BE-046** | **Operational CLI Suite (Status/Health/Doctor)** | [cli.py](cli.py), [app/core/config.py](app/core/config.py) | Expands the local CLI into a command suite with `chat`, `status`, `health`, and `doctor` modes. Adds provider/auth diagnostics, environment coherence checks, and machine-readable JSON output for automation workflows. |
| **BE-047** | **Local Node Runtime + Node Invoke Tooling** | [app/core/node_runtime.py](app/core/node_runtime.py), [app/api/node_routes.py](app/api/node_routes.py), [app/tools/node_tools.py](app/tools/node_tools.py), [app/agents/orchestrator.py](app/agents/orchestrator.py), [app/main.py](app/main.py), [app/core/config.py](app/core/config.py), [.env.example](.env.example) | Introduces a minimal device-style node layer with a local node descriptor, `system.notify` and policy-gated `system.run` actions, REST endpoints for listing/invoking nodes (`/api/v1/nodes`), and first-class orchestrator tools (`node_list`, `node_invoke`) for agent-driven node actions. |
| **BE-048** | **Run Lane Queue (FIFO + Per-Session Serialization)** | [app/agents/run_lane_queue.py](app/agents/run_lane_queue.py), [app/api/agent_routes.py](app/api/agent_routes.py), [app/core/config.py](app/core/config.py), [.env.example](.env.example) | Adds a lane-based execution queue in front of agent runs. Requests are enqueued FIFO, constrained by configurable global concurrency (`AGENT_MAX_CONCURRENT_RUNS`), and serialized per session so concurrent requests for the same session do not execute simultaneously. Exposes queue telemetry via `GET /api/v1/agent/runs/queue` and reports `queued` status through `GET /api/v1/agent/runs/{session_id}/status`. |
| **BE-049** | **Source Channel Context Injection** | [app/agents/orchestrator.py](app/agents/orchestrator.py), [app/api/agent_routes.py](app/api/agent_routes.py), [app/skills/telegram/bot.py](app/skills/telegram/bot.py), [app/skills/discord/bot.py](app/skills/discord/bot.py), [app/core/heartbeat.py](app/core/heartbeat.py), [app/tools/agent_tools.py](app/tools/agent_tools.py) | Propagates the inbound source channel (`ui`, `telegram`, `discord`, `heartbeat`, `subagent`) into orchestrator runtime context and session metadata (`last_channel`, `channel_history`). Adds a structured `REQUEST CONTEXT` block in routing/execution prompts so the agent can adapt behavior based on where the request originated. |
| **BE-050** | **Manual Cron Trigger API** | [app/api/task_routes.py](app/api/task_routes.py), [app/core/cron.py](app/core/cron.py) | Adds `POST /api/v1/tasks/cron/{job_id}/run-now` to enqueue a scheduled cron job immediately. Includes active-task coalescing so duplicate in-flight runs are avoided. |

## Frontend Features
| ID | Feature Name | Related Files | Description |
| :-- | :--- | :--- | :--- |
| **FE-001** | **Command Center (Dashboard)** | [frontend/app/page.tsx](frontend/app/page.tsx) | The primary user interface combining a chat terminal, memory bank visualization, live task protocol monitoring, and real-time system status indicator. Now includes visual distinction (color-coding for Long-term, Short-term, and Core memories), memory delete/edit controls, and assistant response rendering with Markdown + sanitized HTML support. |
| **FE-002** | **Sidebar Navigation** | [frontend/components/sidebar-nav.tsx](frontend/components/sidebar-nav.tsx) | The main navigational component providing quick access to Home, Tools, Skills, Channels, and Core sections. |
| **FE-003** | **Skill Manager UI** | [frontend/app/skills/page.tsx](frontend/app/skills/page.tsx) | A full management interface for viewing, creating, editing, and deleting agent skills. Includes a form for defining skill instructions. |
| **FE-004** | **Onboarding Wizard** | [frontend/components/onboarding-wizard.tsx](frontend/components/onboarding-wizard.tsx) | A guided setup flow that appears when the system detects it is not yet configured, ensuring proper initialization. |
| **FE-005** | **Protocol/Task Creator** | [frontend/app/page.tsx](frontend/app/page.tsx) | A dialog component allowing users to define new background protocols/tasks with specific titles, descriptions, and priority levels. |
| **FE-006** | **Application Layout** | [frontend/app/layout.tsx](frontend/app/layout.tsx) | The root application shell that defines the global theme, font settings, and layout structure (sidebar + content area). |
| **FE-007** | **Channels UI** | [frontend/app/channels/page.tsx](frontend/app/channels/page.tsx) | A placeholder page dedicated to future configuration and management of communication channels (Telegram, Discord, etc.). |
| **FE-008** | **Vault Configuration UI** | [frontend/app/vault/page.tsx](frontend/app/vault/page.tsx) | A comprehensive interface for configuring system environment variables, API keys, and external service integrations (LLMs, Messaging, Email). |
| **FE-009** | **Heartbeat Dashboard** | [frontend/app/core/heartbeat/page.tsx](frontend/app/core/heartbeat/page.tsx) | A dedicated interface for viewing and editing the system's "Standing Orders" (Heartbeat protocols). |
| **FE-010** | **Model Registry UI** | [frontend/app/models/page.tsx](frontend/app/models/page.tsx) | A management interface for configuring active models, toggling providers, and managing model aliases. |
| **FE-011** | **Agent Management UI** | [frontend/app/agents/page.tsx](frontend/app/agents/page.tsx) | A dashboard for viewing the agent fleet, creating specialized sub-agents, and configuring their capabilities and tools. |
| **FE-012** | **Log Viewer Panel** | [frontend/components/log-viewer.tsx](frontend/components/log-viewer.tsx), [frontend/app/page.tsx](frontend/app/page.tsx) | A collapsible terminal-style panel in the main dashboard that connects to the backend WebSocket to display real-time application logs. |
| **FE-013** | **Protocol Queue & History UI** | [frontend/app/page.tsx](frontend/app/page.tsx), [app/api/task_routes.py](app/api/task_routes.py) | A tabbed Protocols panel that shows active queue telemetry, tasks queued for the next heartbeat tick, scheduled cron jobs with edit/delete controls, and historical execution data (completed cron runs and heartbeat tasks). |
| **FE-014** | **Core Configuration Hub** | [frontend/app/core/page.tsx](frontend/app/core/page.tsx) | A comprehensive dashboard for managing the agent's identity matrix, knowledge core (CORE.md, JUDGEMENT.md, USER.md, AGENTS.md, MEMORY.md), and viewing runtime system specifications including Python version, platform, and RAG status. |
| **FE-015** | **Model Playground UI** | [frontend/app/playground/page.tsx](frontend/app/playground/page.tsx) | A dedicated development interface for experimenting with different LLM models and providers, supporting direct model testing with multimodal input (image attachment) and live response visualization. |
| **FE-016** | **Run Status Indicator** | [frontend/components/run-status-indicator.tsx](frontend/components/run-status-indicator.tsx), [frontend/app/page.tsx](frontend/app/page.tsx) | Real-time agent activity indicator in the chat UI. Polls the run registry backend to show current execution phase (evaluating, routing, executing tools), turn progress bar, elapsed time, a Stop button to abort runs, and a Steer input to inject course-correction messages mid-run. Replaces the static bouncing dots loading indicator. |
| **FE-017** | **Chat Attachments UX (Drag/Drop + Picker)** | [frontend/app/page.tsx](frontend/app/page.tsx) | Adds attachment workflow directly in the chat composer: drag-and-drop, file picker button, pending file chips with remove actions, upload-on-send behavior, and automatic inclusion of uploaded image paths in streaming chat requests for multimodal turns. |
| **FE-018** | **Reasoning Trace Card (Glowing Effect)** | [frontend/components/reasoning-trace-card.tsx](frontend/components/reasoning-trace-card.tsx), [frontend/components/ui/glowing-effect.tsx](frontend/components/ui/glowing-effect.tsx), [frontend/app/page.tsx](frontend/app/page.tsx) | Adds a high-level execution timeline card beneath assistant messages using an Aceternity glowing visual effect. Displays safe trace events from SSE (`phase`, `intent`, `tool_start`, `tool_done`, `recovery`, `error`) to improve transparency without exposing private chain-of-thought. |
| **FE-019** | **Animated Text Generation Effect** | [frontend/components/ui/text-generate-effect.tsx](frontend/components/ui/text-generate-effect.tsx), [frontend/app/page.tsx](frontend/app/page.tsx) | Adds an Aceternity-style word-by-word reveal effect to assistant responses. The UI automatically falls back to Markdown rendering for richly formatted output and for currently streaming messages to avoid animation jitter. |
| **FE-020** | **Chat Prompt Queue** | [frontend/app/page.tsx](frontend/app/page.tsx) | Allows users to submit additional prompts while a run is in progress. New prompts (and pending attachments) are queued client-side and auto-dispatched sequentially when the active run finishes. Includes visible queue status and per-item removal controls near the chat composer. |
| **FE-021** | **Relationship Memory Panel UI** | [frontend/components/relationship-memory-panel.tsx](frontend/components/relationship-memory-panel.tsx), [frontend/app/page.tsx](frontend/app/page.tsx) | Adds a dedicated Relationship Memory panel in the left sidebar for high-priority durable user facts. Supports listing/searching facts, manual fact insertion with tags/confidence, and deletion, backed by the relationship memory API endpoints. |
| **FE-022** | **Cron Job Run-Now Control** | [frontend/app/page.tsx](frontend/app/page.tsx), [app/api/task_routes.py](app/api/task_routes.py) | Adds a `Run Now` button to each Scheduled Cron Job card. The UI confirms intent, triggers the backend run-now endpoint, and refreshes queue/history telemetry so manual runs are visible immediately. |
- **Memory Cleanup**: Added scheduled job `Clean Old Memories` (ID: 4de6743d-b3d4-4d84-8be7-aa229806c298) that runs daily at 3 AM to remove long-term memories older than 15 days using `cleanup_old_memories()` function in `app/memory/rag.py`.
